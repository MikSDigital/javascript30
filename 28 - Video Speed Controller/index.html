<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Video Speed Scrubber</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="wrapper">
        <video class="flex" width="765" height="430" src="https://www.dropbox.com/s/nf6jfkwck1glsyo/12%20-%20flex-wrapping-and-columns.mp4?dl=1" loop controls></video>
        <div class="speed">
            <div class="speed-bar">1×</div>
        </div>
    </div>
    <script>
    const video = document.querySelector('video');
    const speed = document.querySelector('.speed');
    const bar = document.querySelector('.speed-bar');

    function handleSpeed(e) {
        const myHeight = speed.offsetHeight;
        const myOffset = speed.offsetTop;
        const eOffset = e.pageY;
        const localOffset = eOffset - myOffset;
        const percent = Math.round((localOffset * 100) / myHeight);
        const playbackRate = ((percent * 4) / 100).toFixed(2);
        // console.log({ myHeight, myOffset, eOffset, percent });
        bar.style.setProperty('height', `${percent}%`);
        bar.textContent = `${playbackRate}×`;
        video.playbackRate = playbackRate;
    }

    speed.addEventListener('mousemove', handleSpeed);

    </script>
</body>

</html>
